@page "{id}"
@model FinnFragen.Web.Pages.Status.AnswerModel
@{
    ViewData["Title"] = "Frage beantworten";
}


<div class="card border-secondary mb-3">
    <div class="card-header d-flex align-content-center align-items-center" data-bs-toggle="collapse" data-bs-target="#question" aria-expanded="false">
        <span class="flex-grow-1">Frage</span>
        <button class="btn btn-secondary btn-sm collapsed" data-bs-toggle="collapse" data-bs-target="#question" aria-expanded="false">
            <i class="fas fa-chevron-up" aria-hidden="true"></i>
        </button>
    </div>
    <div id="question" class="collapse">
        <div class="card-body">
            <h2>@Model.Question.Title</h2>
            <hr />
            @Html.Raw(Model.Question.QuestionHtml)
        </div>
    </div>
</div>

<div id="answer" class="card border-secondary mb-3">
    <div class="card-header d-flex align-content-center align-items-center">
        <span class="flex-grow-1">Frage beantworten</span>

        <button class="btn btn-secondary btn-sm" data-bs-toggle="collapse" data-bs-target="#answer" aria-expanded="true">
            <i class="fas fa-chevron-up" aria-hidden="true"></i>
        </button>
    </div>
    <div id="answer" class="collapse show">
        <div class="card-body">
            <form method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                <div class="form-group mb-3">
                    <label asp-for="Input.Message" class="mb-2 bold"></label>
                    <textarea asp-for="Input.Message" id="mdeText"># Antwort</textarea>
                    <span asp-validation-for="Input.Message" class="text-danger"></span>
                    <div id="mde"></div>
                </div>

                <button type="submit" class="btn btn-primary">Beantworten</button>
                <button type="submit" asp-page-handler="draft" class="btn btn-outline-primary">Entwurf</button>
            </form>
        </div>
    </div>
</div>


@section Scripts
{
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="~/lib/Prism/prism.min.js"></script>
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
    <script src="https://uicdn.toast.com/editor-plugin-code-syntax-highlight/latest/toastui-editor-plugin-code-syntax-highlight-all.min.js"></script>
    <script src="~/js/Index.js"></script>
    <partial name="_ValidationScriptsPartial" />
}
@section Css
{
    <link rel="stylesheet" href="~/lib/prism/themes/prism-twilight.min.css">
    <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />
    <link rel="stylesheet" href="https://uicdn.toast.com/editor-plugin-code-syntax-highlight/latest/toastui-editor-plugin-code-syntax-highlight.min.css" />
    <link rel="stylesheet" href="~/lib/bootstrap-tagsinput/bootstrap-tagsinput.css">
    <link rel="stylesheet" href="~/css/typo.css">
    <link rel="stylesheet" href="~/css/Index.css">
}